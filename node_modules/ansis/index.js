"use strict";Object.defineProperty(exports,"__esModule",{value:!0});let{round:e,floor:t,max:r}=Math,n=e=>{let[,t]=/([a-f\d]{3,6})/i.exec(e)||[],r=t?t.length:0;if(3===r)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];else if(6!==r)return[0,0,0];let n=parseInt(t,16);return[n>>16&255,n>>8&255,255&n]},i=(t,r,n)=>t===r&&r===n?t<8?16:t>248?231:e((t-8)/247*24)+232:16+36*e(t/51)+6*e(r/51)+e(n/51),l=n=>{let i,l,o,s,a;return n<8?30+n:n<16?n-8+90:(n>=232?i=l=o=(10*(n-232)+8)/255:(a=(n-=16)%36,i=t(n/36)/5,l=t(a/6)/5,o=a%6/5),s=2*r(i,l,o),s?30+(e(o)<<2|e(l)<<1|e(i))+(2===s?60:0):30)},o=(e,t,r)=>l(i(e,t,r)),s=(()=>{let e=e=>!!s.find((t=>e.test(t))),t=globalThis,r=t.Deno,n=null!=r,i=t.process||r||{},l=i.stdout,o="win32"===(n?r.build.os:i.platform),s=i.argv||i.args||[],a=i.env||{},u=-1;if(n)try{a=a.toObject()}catch(e){u=0}let c="FORCE_COLOR",p=a[c],d=parseInt(p),f="false"===p?0:isNaN(d)?3:d,g="NO_COLOR"in a||0===f||e(/^-{1,2}(no-color|color=(false|never))$/),b=c in a&&f||e(/^-{1,2}color=?(true|always)?$/),_=(a.NEXT_RUNTIME||"").indexOf("edge")>-1,O="GPG_TTY"in a||"PM2_HOME"in a&&"pm_id"in a||_||(n?r.isatty(1):l&&"isTTY"in l);return g?0:(u<0&&(u=((e,t,r)=>{let{TERM:n,COLORTERM:i}=e;return"truecolor"===i||"24bit"===i?3:"ansi256"===i?2:"ansi"===i||"TF_BUILD"in e?1:"TEAMCITY_VERSION"in e?2:"CI"in e?["GITHUB_ACTIONS","GITEA_ACTIONS"].some((t=>t in e))?3:1:!t||/-mono|dumb/i.test(n)?0:r||/^xterm-(kitty|direct)$/i.test(n)?3:/-256(colou?r)?$/i.test(n)?2:/^screen|^tmux|^xterm|^vt[1-5][0-9]([0-9])?|^ansi|color|cygwin|linux|mintty|rxvt/i.test(n)?1:3})(a,O,o)),b&&0===u?3:u)})(),a=s>0,u={open:"",close:""},c=a?(e,t)=>({open:`[${e}m`,close:`[${t}m`}):()=>u,p=39,d=49,f=e=>(t,r,n)=>e(i(t,r,n)),g=e=>t=>{let[r,i,l]=n(t);return e(r,i,l)},b=e=>c(`38;5;${e}`,p),_=e=>c(`48;5;${e}`,d),O=(e,t,r)=>c(`38;2;${e};${t};${r}`,p),y=(e,t,r)=>c(`48;2;${e};${t};${r}`,d);1===s?(b=e=>c(l(e),p),_=e=>c(l(e)+10,d),O=(e,t,r)=>c(o(e,t,r),p),y=(e,t,r)=>c(o(e,t,r)+10,d)):2===s&&(O=f(b),y=f(_));let m,x,T={ansi256:b,bgAnsi256:_,fg:b,bg:_,rgb:O,bgRgb:y,hex:g(O),bgHex:g(y),visible:u,reset:c(0,0),bold:c(1,22),dim:c(2,22),italic:c(3,23),underline:c(4,24),inverse:c(7,27),hidden:c(8,28)},$="black,red,green,yellow,blue,magenta,cyan,white".split(","),h="Bright",I=30;for(m of $)x="bg"+m[0].toUpperCase()+m.slice(1),T[m]=c(I,p),T[m+h]=c(I+60,p),T[x]=c(I+10,d),T[x+h]=c(I+70,d),I++;T.grey=T.gray=c(90,p),T.bgGrey=T.bgGray=c(100,d),T.strikethrough=T.strike=c(9,29);let R,{defineProperty:v,defineProperties:C,setPrototypeOf:E}=Object,w=/[Â›][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,M=/(\r?\n)/g,N={},A=({_p:e},{open:t,close:r})=>{let n=(e,...t)=>{if(!e)return"";let r=n._p,{_a:i,_b:l}=r,o=e.raw?String.raw(e,...t):""+e;if(o.includes(""))for(;r;){let e,t,n=r.close,i=r.open,l=n.length,s="";if(l){for(e=0;~(t=o.indexOf(n,e));e=t+l)s+=o.slice(e,t)+i;e&&(o=s+o.slice(e))}r=r._p}return o.includes("\n")&&(o=o.replace(M,l+"$1"+i)),i+o+l},i=t,l=r;return e&&(i=e._a+t,l=r+e._b),E(n,R),n._p={open:t,close:r,_a:i,_b:l,_p:e},n.open=i,n.close=l,n};const G=function(){let e=e=>""+e;return e.isSupported=()=>a,e.strip=e=>e.replace(w,""),e.extend=t=>{for(let e in t){let r=t[e],i=(typeof r)[0],l="s"===i?O(...n(r)):r;N[e]="f"===i?{get(){return(...e)=>A(this,r(...e))}}:{get(){let t=A(this,l);return v(this,e,{value:t}),t}}}return R=C({},N),E(e,R),e},e.extend(T),e},P=new G;module.exports=P,module.exports.Ansis=G,P.default=P;
